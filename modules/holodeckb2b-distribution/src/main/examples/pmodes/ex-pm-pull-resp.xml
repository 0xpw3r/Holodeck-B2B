<?xml version="1.0" encoding="UTF-8"?>
<!--
Example P-Mode configuration for a One-Way/Pull scenario where Holodeck B2B is the responder of the MEP, i.e. sends the UserMessage in response to a PullRequest.

This P-Mode file should be combined with "ex-pm-pull-init.xml" on the other instance so message will be pulled.  
-->
<PMode xmlns="http://holodeck-b2b.org/schemas/2014/06/pmode"
 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
 xsi:schemaLocation="http://holodeck-b2b.org/schemas/2014/06/pmode ../../repository/xsd/pmode.xsd">
    <id>ex-pm-pull</id>
    <mep>http://docs.oasis-open.org/ebxml-msg/ebms/v3.0/ns/core/200704/oneWay</mep>
    <mepBinding>http://docs.oasis-open.org/ebxml-msg/ebms/v3.0/ns/core/200704/pull</mepBinding>
    <Initiator>
        <PartyId>org:holodeckb2b:example:company:C</PartyId>
        <Role>Sender</Role>
    </Initiator>
    <Responder>
        <PartyId>org:holodeckb2b:example:company:D</PartyId>
        <Role>Receiver</Role>
    </Responder>
    <Agreement>
        <name>http://agreements.holodeckb2b.org/examples/agreement1</name>
    </Agreement>
    <Leg>
        <PullRequestFlow>
            <BusinessInfo>
                <Mpc>http://test.holodeckb2b.org/mpc/2</Mpc>
            </BusinessInfo>
        </PullRequestFlow>
        <PullRequestFlow>
            <BusinessInfo>
                <Mpc>http://test.holodeckb2b.org/mpc/1</Mpc>
            </BusinessInfo>
        </PullRequestFlow>
        <UserMessageFlow>
            <BusinessInfo>
                <Action>StoreMessage</Action>
                <Mpc>http://test.holodeckb2b.org/mpc</Mpc>
                <Service>
                    <name>Test</name>
                    <type>org:holodeckb2b:services</type>
                </Service>
            </BusinessInfo>         
        </UserMessageFlow>
    </Leg>
</PMode>
